<!DOCTYPE html>
<html>
<head>
    <title>Hello WebSocket</title>
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@stomp/stompjs@7.0.0/bundles/stomp.umd.min.js"></script>


    <script>
        // const stompClient = new StompJs.Client();
        // stompClient.webSocketFactory = function () {
        //     return new SockJS("https://psyduck.home:3000/ws")
        // }
        // stompClient.onConnect = (frame) => {
        //     console.log('Connected: ' + frame);
        //     // stompClient.subscribe('/in-game/topic/events', (greeting) => {
        //     //     console.log(JSON.parse(greeting.body).content);
        //     // });

        //     // stompClient.subscribe("/in-game/user/queue/mm", (greeting) => {
        //     //     console.log(JSON.parse(greeting.body).content);
        //     // });

        //     // stompClient.publish({
        //     //     destination: "/app/cmd",
        //     //     body: JSON.stringify({'name': '111'})
        //     // });

        // };

        // stompClient.onWebSocketError = (error) => {
        //     console.error('Error with websocket', error);
        // };

        // stompClient.onStompError = (frame) => {
        //     console.error('Broker reported error: ' + frame.headers['message']);
        //     console.error('Additional details: ' + frame.body);
        // };

        // stompClient.activate();

        conn = new WebSocket("wss://psyduck.home:3000/ws?t=eyJhbGciOiJSUzI1NiIsImtpZCI6ImNlcnQtYnVpbHQtaW4iLCJ0eXAiOiJKV1QifQ.eyJhdWQiOlsiMzhlMTE4MzcxYWNlYjUzNTc0YjYiXSwiZXhwIjoxNzEzOTY5NjM4LCJncm91cHMiOlsiZ2FycHRlYS91c2VyX2dyb3VwIl0sImlhdCI6MTcxMzM2NDgzOCwiaWQiOiI1OTc2ODdiNy04ODk5LTQ3NzctOTY1Yy1jZWU5ZGNjNmNmMWMiLCJpc09ubGluZSI6ZmFsc2UsImlzcyI6Imh0dHA6Ly8xOTIuMTY4LjAuMTA0OjgwMDAiLCJqdGkiOiJhZG1pbi8yNWY1ZGU4Zi1mNGU1LTQwMzYtOTkwMS00NGMwM2NlMjliZTEiLCJuYW1lIjoidXNlciIsIm5iZiI6MTcxMzM2NDgzOCwibm9uY2UiOiIiLCJzY29wZSI6Im9wZW5pZCIsInN1YiI6IjU5NzY4N2I3LTg4OTktNDc3Ny05NjVjLWNlZTlkY2M2Y2YxYyIsInRhZyI6InN0YWZmIiwidG9rZW5UeXBlIjoiYWNjZXNzLXRva2VuIn0.fH-sg0d146VRQ1LZnI9RKi126GraUWF1d1tRztFpSQf5A4egdmLB3d07HVudGNz7oN9jOo1pxLi1CIOlIACpnGCTK_4Syp6g89Q8Y7HfE-6VKCDPVWjJoUCX4FTN5ppgXphV5KGCc1y7bpYy19Usid4t1DQsnXvvvoccGkorN7TGEAThihZdFctffgnrdzN2lGjYr7aFVFUSB-nqjBad_k6258i-axHdoD5PclWSJ_tmlbPHoqp-veSmxOGecCfq6MO8Oij244eswnZJ37YeNakgqjRaCitB8CRNWyPeuZF3teDs-190cH6D-RaU50Z7eSLqmm1IYUEP5cXI8JmaNxXrN9LF9ocpFfojU_Lit7lZP2g_AwmCVNnUk8us9g9_OexG1Obgnc0RnMH-vgOa4814Yqq9tQOF2YOEVdgFQMDxMOMg2cKEpRbDqRG5MxHXdjAKQVXWQhoj1pI82mgHN0R-E7iecYFjyqEwzIVaEJpGM9LHEjGCXS5wB5K_kHOYM4pJptQchp3WI47NkZQuZK8jCQvvTv0N0p2aZXiGtkJojN-AJKj1En3ToOoOWhfd2Pe2mDAZy8_zj2Ypv5jSvODTltUkBcN9Qm-3sSZUbQ5I2ANpaoKNbawEqo0yHVkheUqlG2yJtTYLn_71oDG7BuFpBf3075cejdkH4eEiMF4")
        conn.onopen = function(e) {
            console.log(e)
            conn.send("test")
        }
        conn.onclose = function(e) {
            console.log(e)
        }
        conn.onmessage = function(e) {
            console.log(e)
        }
    </script>
</head>
<body>

</body>
</html>